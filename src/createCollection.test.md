# createCollection æ¸¬è©¦æ¡ˆä¾‹èªªæ˜Ž

é€™å€‹æ¸¬è©¦æª”æ¡ˆ (`createCollection.test.ts`) ç‚º `createCollection.ts` æ¨¡çµ„æä¾›äº†å®Œæ•´çš„æ¸¬è©¦è¦†è“‹ã€‚

## æ¸¬è©¦è¦†è“‹ç¯„åœ

### ðŸ—ï¸ Collection å‰µå»º
- é©—è­‰é›†åˆå‰µå»ºæ™‚çš„æ­£ç¢ºåˆå§‹åŒ–
- æª¢æŸ¥ data_path å’Œ fields çš„è¨­å®š
- ç¢ºèªé»˜èªå€¼çš„æ­£ç¢ºæ€§

### ðŸ” æŸ¥è©¢å»ºæ§‹å™¨
- æ¸¬è©¦ `buildArgs()` æ–¹æ³•çš„é‚è¼¯
- é©—è­‰éŽæ¿¾å™¨å’ŒæŽ’åºåƒæ•¸çš„çµ„åˆ
- æª¢æŸ¥ç©ºåƒæ•¸çš„è™•ç†

### ðŸ“‹ å…‹éš†åŠŸèƒ½
- æ¸¬è©¦æ·±æ‹·è²çš„æ­£ç¢ºæ€§
- ç¢ºä¿å…‹éš†å°è±¡çš„ç¨ç«‹æ€§
- é©—è­‰æ•¸æ“šä¸€è‡´æ€§

### ðŸ”§ Where æ¢ä»¶
- **åŸºæœ¬æ¢ä»¶**: `where(field, value)`
- **æ“ä½œç¬¦æ¢ä»¶**: `where(field, operator, value)`
  - `>`, `>=`, `<`, `<=`, `==`, `!==`
- **ç‰¹æ®Šæ¢ä»¶**:
  - `whereContains()` - åŒ…å«æŸ¥è©¢
  - `whereIn()` - ç¯„åœå…§æŸ¥è©¢
  - `whereNotIn()` - ç¯„åœå¤–æŸ¥è©¢
  - `whereBetween()` - å€é–“æŸ¥è©¢
  - `whereNotBetween()` - å€é–“å¤–æŸ¥è©¢

### ðŸ“Š æŽ’åºåŠŸèƒ½
- `sortBy()` - å‡åºæŽ’åº
- `sortByDesc()` - é™åºæŽ’åº
- æ”¯æ´å­—ä¸²å­—æ®µå’Œå‡½æ•¸æŽ’åº

### ðŸ“„ åˆ†é åŠŸèƒ½
- `take()` - é™åˆ¶ç­†æ•¸
- `skip()` - è·³éŽç­†æ•¸
- `forPage()` - åˆ†é æŸ¥è©¢
- `splice()` - åˆ‡ç‰‡æ“ä½œ
- è™•ç†å·²è¨­å®šé™åˆ¶çš„æƒ…æ³

### ðŸ›£ï¸ æ•¸æ“šè·¯å¾‘
- `dataPath()` - è‡ªå®šç¾©æ•¸æ“šè·¯å¾‘
- æ”¯æ´å·¢ç‹€è·¯å¾‘çµæ§‹

### ðŸ“‹ æŸ¥è©¢è² è¼‰
- `getQueryPayload()` - ç”ŸæˆæŸ¥è©¢åƒæ•¸
- é©—è­‰ GraphQL æŸ¥è©¢çµæ§‹
- åŒ…å« meta è³‡è¨Šå’Œåƒæ•¸

### ðŸ“¦ æ‰¹æ¬¡æ•¸æ“š
- æ‰¹æ¬¡æ•¸æ“šæ¨¡å¼çš„æ”¯æ´
- æ‰¹æ¬¡æ¨¡å¼ä¸‹çš„æ­¥é©Ÿè™•ç†
- ç›´æŽ¥ä½¿ç”¨é è¼‰æ•¸æ“š

### ðŸ”„ æ–¹æ³•æ­¥é©Ÿ
- å»¶é²åŸ·è¡Œçš„æ­¥é©Ÿè¨˜éŒ„
- éˆå¼æ“ä½œçš„æ­£ç¢ºæ€§
- æ­¥é©Ÿé †åºçš„ç¶­è­·

### ðŸ“¡ æ•¸æ“šæŠ“å–
- `fetchData()` - æ•¸æ“šæŠ“å–é‚è¼¯
- å·¢ç‹€æ•¸æ“šè·¯å¾‘è™•ç†
- GraphQL æŸ¥è©¢å»ºæ§‹

### âš™ï¸ æ•¸æ“šè™•ç†
- `processData()` - æ•¸æ“šè™•ç†æµç¨‹
- çµåˆé ç¨‹æŸ¥è©¢å’Œæœ¬åœ°è™•ç†

### ðŸŽ¯ æœ€çµ‚æ–¹æ³•
- `all()` - ç²å–æ‰€æœ‰æ•¸æ“š
- `first()` - ç²å–ç¬¬ä¸€ç­†æ•¸æ“š

### ðŸ§ª é‚Šç•Œæƒ…æ³
- ç©ºæ¬„ä½å°è±¡è™•ç†
- å¤šé‡æ¢ä»¶çµ„åˆ
- è¤‡é›œæŸ¥è©¢æ¸¬è©¦
- éŒ¯èª¤æƒ…æ³è™•ç†

## æ¸¬è©¦çµ±è¨ˆ

- **ç¸½æ¸¬è©¦æ•¸é‡**: 42 å€‹
- **æ¸¬è©¦åˆ†çµ„**: 10 å€‹ä¸»è¦åˆ†çµ„
- **è¦†è“‹çŽ‡**: å¹¾ä¹Žæ‰€æœ‰å…¬å…±æ–¹æ³•å’Œé‡è¦ç§æœ‰æ–¹æ³•

## é‹è¡Œæ¸¬è©¦

```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# åªé‹è¡Œ createCollection æ¸¬è©¦
npm test -- createCollection.test.ts

# ç›£è¦–æ¨¡å¼é‹è¡Œæ¸¬è©¦
npm run test:watch -- createCollection.test.ts
```

## Mock èªªæ˜Ž

æ¸¬è©¦ä½¿ç”¨äº†ä»¥ä¸‹ Mock:
- **Axios**: æ¨¡æ“¬ HTTP å®¢æˆ¶ç«¯
- **query**: æ¨¡æ“¬ GraphQL æŸ¥è©¢å‡½æ•¸
- **collect.js**: ä½¿ç”¨çœŸå¯¦çš„é›†åˆè™•ç†åº«

é€™ç¢ºä¿äº†æ¸¬è©¦çš„éš”é›¢æ€§å’Œå¯é æ€§ï¼ŒåŒæ™‚ä¿æŒäº†èˆ‡çœŸå¯¦ä½¿ç”¨æƒ…æ³çš„ä¸€è‡´æ€§ã€‚
